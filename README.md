# ç½‘æ˜“äº‘éŸ³ä¹ Dart API

è¿™æ˜¯ä¸€ä¸ªåŸºäº Dart è¯­è¨€çš„ç½‘æ˜“äº‘éŸ³ä¹ API å®ç°ï¼Œè½¬æ¢è‡ªåŸå§‹çš„ Node.js ç‰ˆæœ¬ [NeteaseCloudMusicApi](https://github.com/Binaryify/NeteaseCloudMusicApi)ã€‚

## ç‰¹æ€§

- ï¿½ **ç›´æ¥APIè°ƒç”¨**ï¼šæ— éœ€å¯åŠ¨æœåŠ¡å™¨ï¼Œç›´æ¥è°ƒç”¨APIæ–¹æ³•
- ğŸ” **å®Œæ•´åŠ å¯†æ”¯æŒ**ï¼šåŒ…å« WEAPIã€EAPIã€LinuxAPI ç­‰å¤šç§åŠ å¯†æ–¹å¼
- ï¿½ï¸ **å®‰å…¨å®ç°**ï¼šä½¿ç”¨ pointycastle åº“å®ç° AES/RSA åŠ å¯†ç®—æ³•
- ğŸª **Cookieç®¡ç†**ï¼šè‡ªåŠ¨å¤„ç†ç™»å½•çŠ¶æ€å’Œä¼šè¯ç»´æŠ¤
- ï¿½ğŸ“± **è®¾å¤‡æ¨¡æ‹Ÿ**ï¼šæ¨¡æ‹ŸçœŸå®è®¾å¤‡è¯·æ±‚å¤´å’Œå‚æ•°
- ğŸŒ **IPä»£ç†æ”¯æŒ**ï¼šæ”¯æŒè‡ªå®šä¹‰è¯·æ±‚IP

## å®‰è£…

1. ç¡®ä¿å·²å®‰è£… Dart SDK (>=3.0.0)
2. å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
3. å®‰è£…ä¾èµ–ï¼š

```bash
dart pub get
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```dart
import 'package:netease_cloud_music_api/netease_cloud_music_api.dart';

void main() async {
  final api = NeteaseCloudMusicApi();
  await api.init();
  
  // æœç´¢æ­Œæ›²
  final searchResult = await api.search(keywords: 'å‘¨æ°ä¼¦', type: 1, limit: 10);
  print('æœç´¢ç»“æœï¼š$searchResult');
  
  // è·å–æ­Œæ›²è¯¦æƒ…
  final songDetail = await api.songDetail(ids: '347230');
  print('æ­Œæ›²è¯¦æƒ…ï¼š$songDetail');
}
```

### æ”¯æŒçš„API

#### æœç´¢ç›¸å…³
- `search()` - æœç´¢æ­Œæ›²ã€ä¸“è¾‘ã€æ­Œæ‰‹ç­‰
- `searchHot()` - è·å–çƒ­é—¨æœç´¢
- `searchSuggest()` - è·å–æœç´¢å»ºè®®

#### æ­Œæ›²ç›¸å…³
- `songDetail()` - è·å–æ­Œæ›²è¯¦æƒ…
- `songUrl()` - è·å–æ­Œæ›²æ’­æ”¾URL
- `lyric()` - è·å–æ­Œè¯

#### æ­Œå•ç›¸å…³
- `playlistDetail()` - è·å–æ­Œå•è¯¦æƒ…
- `personalized()` - è·å–æ¨èæ­Œå•
- `recommendSongs()` - è·å–æ¯æ—¥æ¨èæ­Œæ›²

#### ç”¨æˆ·ç›¸å…³
- `loginCellphone()` - æ‰‹æœºå·ç™»å½•

### åŠ å¯†æ–¹å¼

æ”¯æŒç½‘æ˜“äº‘éŸ³ä¹çš„å¤šç§åŠ å¯†æ–¹å¼ï¼š

- **WEAPI**: Webç«¯åŠ å¯†æ–¹å¼
- **EAPI**: ç§»åŠ¨ç«¯åŠ å¯†æ–¹å¼  
- **LinuxAPI**: Linuxå®¢æˆ·ç«¯åŠ å¯†æ–¹å¼
- **API**: æ— åŠ å¯†æ–¹å¼

### è®¾å¤‡æ¨¡æ‹Ÿ

æ”¯æŒå¤šç§è®¾å¤‡ç±»å‹æ¨¡æ‹Ÿï¼š

- PC (Windows/Mac)
- Android
- iPhone/iOS
- Linux

## APIå‚è€ƒ

### NeteaseCloudMusicApi

ä¸»è¦çš„APIç±»ï¼Œæä¾›æ‰€æœ‰æ¥å£æ–¹æ³•ã€‚

#### æ–¹æ³•

##### init()
åˆå§‹åŒ–APIï¼Œè·å–åŒ¿åtokenç­‰å¿…è¦ä¿¡æ¯ã€‚

```dart
await api.init();
```

##### search()
æœç´¢æ­Œæ›²ã€ä¸“è¾‘ã€æ­Œæ‰‹ç­‰ã€‚

```dart
final result = await api.search(
  keywords: 'æœç´¢å…³é”®è¯',
  type: 1,        // 1:å•æ›², 10:ä¸“è¾‘, 100:æ­Œæ‰‹, 1000:æ­Œå•, 1002:ç”¨æˆ·, 1004:MV
  limit: 30,      // è¿”å›æ•°é‡
  offset: 0,      // åç§»é‡
);
```

##### songDetail()
è·å–æ­Œæ›²è¯¦æƒ…ã€‚

```dart
final result = await api.songDetail(ids: '347230,347231');
```

##### songUrl()
è·å–æ­Œæ›²æ’­æ”¾URLã€‚

```dart
final result = await api.songUrl(
  id: '347230',
  br: '320000',   // æ¯”ç‰¹ç‡
);
```

##### loginCellphone()
æ‰‹æœºå·ç™»å½•ã€‚

```dart
final result = await api.loginCellphone(
  phone: 'æ‰‹æœºå·',
  password: 'å¯†ç ',
  countrycode: '86',
);
```

## ä¸åŸé¡¹ç›®çš„ä¸»è¦å·®å¼‚

1. **ç›´æ¥APIè°ƒç”¨**: ä¸éœ€è¦å¯åŠ¨HTTPæœåŠ¡å™¨ï¼Œç›´æ¥è°ƒç”¨APIæ–¹æ³•
2. **ç±»å‹å®‰å…¨**: ä½¿ç”¨Dartçš„å¼ºç±»å‹ç³»ç»Ÿï¼Œæä¾›æ›´å¥½çš„å¼€å‘ä½“éªŒ
3. **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªAPIåŠŸèƒ½ç‹¬ç«‹æ¨¡å—ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
4. **ç®€åŒ–çš„åŠ å¯†**: æä¾›ç®€åŒ–çš„åŠ å¯†å®ç°ï¼Œå®é™…é¡¹ç›®ä¸­å»ºè®®ä½¿ç”¨ä¸“ä¸šåŠ å¯†åº“

## æ³¨æ„äº‹é¡¹

1. æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨
2. åŠ å¯†ç®—æ³•ä¸ºç®€åŒ–å®ç°ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ä¸“ä¸šåŠ å¯†åº“
3. è¯·éµå®ˆç½‘æ˜“äº‘éŸ³ä¹çš„ä½¿ç”¨æ¡æ¬¾
4. APIæ¥å£å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¯·åŠæ—¶æ›´æ–°

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestã€‚

## è®¸å¯è¯

MIT License
